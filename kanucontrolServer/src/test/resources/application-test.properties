# ==================================================
# Test Profile Activation
# ==================================================
spring.config.activate.on-profile=test


# ==================================================
# Datasource (Tests laufen IMMER im Baseline-Schema)
# ==================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/kanu?currentSchema=kanu
spring.datasource.username=kcuser
spring.datasource.password=kcpassword
spring.datasource.driver-class-name=org.postgresql.Driver


# ==================================================
# JPA / Hibernate
# ==================================================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=false

# ? Multi-Tenancy auch in Tests aktiv
spring.jpa.properties.hibernate.multiTenancy=SCHEMA


# ==================================================
# Liquibase (Test-Reset!)
# ==================================================
spring.liquibase.enabled=false
# spring.liquibase.drop-first=true
# spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml


# ==================================================
# Test Tenants
# ==================================================
kcserver.test-tenants[0]=tenant_test_1
kcserver.test-tenants[1]=tenant_test_2
kcserver.test-tenants[2]=tenant_test_3


# ==================================================
# Security
# ==================================================
keycloak.enabled=false


# ==================================================
# Logging (optional, sehr hilfreich bei Tests)
# ==================================================
logging.level.root=ERROR
logging.level.com.kcserver.tenancy=ERROR
logging.level.org.springframework.security=ERROR
logging.level.org.springframework.web=ERROR
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate.type.descriptor.sql=ERROR
logging.level.org.springframework.transaction=ERROR
logging.level.com.kcserver=ERROR