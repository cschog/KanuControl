{"ast":null,"code":"var _jsxFileName = \"/Volumes/Merlin_Daten/Chris_Daten/Projects/Kanu/KC/kanucontrolClient/src/components/Vereine/Vereine.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { getAllVereine as dbGetAllVereine, deleteVerein as dbDeleteVerein, createVerein as dbCreateVerein, replaceVerein as dbReplaceVerein } from \"../../services/vereine\";\nimport { MenueHeader } from \"../MenueHeader\";\nimport { VereinTable } from \"./VereinTable\";\nimport { VereinViewForm } from \"./VereinViewForm\";\nimport { VereinEditForm } from \"./VereinEditForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Vereine = () => {\n  _s();\n  // vereinFormModus: V = ViewMode, E = EditMode\n  const [vereinFormEditMode, setVereinFormEditMode] = useState(false);\n  const [verein, setVerein] = useState([]);\n  const [vereine, setVereine] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [vereinId, setVereinId] = useState(0);\n  const [btnLöschenIsDisabled, setBtnLöschenIsDisabled] = useState(true);\n  const [btnNeuerVereinIsDisabled, setBtnNeuerVereinIsDisabled] = useState(false);\n  const [btnÄndernIsDisabled, setBtnÄndernIsDisabled] = useState(true);\n  const [modusNeuerVerein, setModusNeuerVerein] = useState(true);\n  const onRowSelect = useCallback(event => {\n    setVereinFormEditMode(false);\n    setBtnLöschenIsDisabled(false);\n    setBtnÄndernIsDisabled(false);\n    setVereinId(event.data.id);\n    setVerein(vereine.filter(vereine => vereine.id === event.data.id));\n  });\n  const editVerein = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setVereinFormEditMode(true);\n    setBtnÄndernIsDisabled(true);\n    setModusNeuerVerein(false);\n  });\n  const deleteVerein = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n    dbDeleteVerein(vereinId);\n    setLoading(!loading);\n  });\n  const btnAbbruch = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setVereinFormEditMode(false);\n    initVerein(setVerein);\n  });\n  const btnNeuerVerein = useCallback(() => {\n    // Felder leeren und auf Input umschalten\n    setModusNeuerVerein(true);\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n    setBtnNeuerVereinIsDisabled(false);\n    setVereinFormEditMode(true);\n    initVerein(setVerein);\n  });\n  const btnSpeichern = useCallback(verein => {\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n    if (modusNeuerVerein) {\n      dbCreateVerein(verein);\n    } else {\n      verein.id = vereinId;\n      dbReplaceVerein(verein);\n    }\n    setVereinFormEditMode(false);\n    setLoading(!loading);\n  });\n  const btnStartMenue = useCallback(() => {\n    // prüfen, ob die Daten plausibel sind (also nicht leer, Änderung gegenüber den vorherigen, ...)\n    window.location.href = \"/startmenue\";\n  });\n  useEffect(() => {\n    dbGetAllVereine().then(vereine => {\n      setVereine(vereine);\n    });\n    initVerein(setVerein);\n  }, [loading]);\n  useEffect(() => {}, [verein]);\n  const vereinAnz = vereine.length; // Anzahl der Vereine\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MenueHeader, {\n      headerText: vereinAnz + \" Vereine\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VereinTable, {\n      selectedVerein: vereinId,\n      vereine: vereine,\n      onRowSelect: onRowSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: vereinFormEditMode ? /*#__PURE__*/_jsxDEV(VereinEditForm, {\n        modusNeuerVerein: modusNeuerVerein,\n        onSpeichern: btnSpeichern,\n        onAbbruch: btnAbbruch,\n        verein: verein\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(VereinViewForm, {\n        onNeuerVerein: btnNeuerVerein,\n        btnNeuerVerein: btnNeuerVereinIsDisabled,\n        onÄndernVerein: editVerein,\n        btnÄndernVerein: btnÄndernIsDisabled,\n        onDeleteVerein: deleteVerein,\n        btnLöschenVerein: btnLöschenIsDisabled,\n        onStartMenue: btnStartMenue,\n        verein: verein\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Vereine, \"L1dKV7scwGhlxj99T2GLNIgGDUA=\");\n_c = Vereine;\nexport default Vereine;\nfunction initVerein(setVerein) {\n  setVerein([{\n    Verein_Name: \" \",\n    Verein_Kurz: \" \",\n    Verein_Strasse: \" \",\n    Verein_PLZ: \" \",\n    Verein_Ort: \" \",\n    Verein_TelP: \" \",\n    Verein_KZ: \" \",\n    Verein_KtoNr: \" \",\n    Verein_BLZ: \" \",\n    Verein_Bankname: \" \",\n    Verein_KontoInhaber: \" \",\n    Verein_KI_Anschrift: \" \",\n    Verein_IBAN: \" \",\n    Verein_BIC: \" \"\n  }]);\n}\nvar _c;\n$RefreshReg$(_c, \"Vereine\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","getAllVereine","dbGetAllVereine","deleteVerein","dbDeleteVerein","createVerein","dbCreateVerein","replaceVerein","dbReplaceVerein","MenueHeader","VereinTable","VereinViewForm","VereinEditForm","jsxDEV","_jsxDEV","Fragment","_Fragment","Vereine","_s","vereinFormEditMode","setVereinFormEditMode","verein","setVerein","vereine","setVereine","loading","setLoading","vereinId","setVereinId","btnLöschenIsDisabled","setBtnLöschenIsDisabled","btnNeuerVereinIsDisabled","setBtnNeuerVereinIsDisabled","btnÄndernIsDisabled","setBtnÄndernIsDisabled","modusNeuerVerein","setModusNeuerVerein","onRowSelect","event","data","id","filter","editVerein","btnAbbruch","initVerein","btnNeuerVerein","btnSpeichern","btnStartMenue","window","location","href","then","vereinAnz","length","children","headerText","fileName","_jsxFileName","lineNumber","columnNumber","selectedVerein","onSpeichern","onAbbruch","onNeuerVerein","onÄndernVerein","btnÄndernVerein","onDeleteVerein","btnLöschenVerein","onStartMenue","_c","Verein_Name","Verein_Kurz","Verein_Strasse","Verein_PLZ","Verein_Ort","Verein_TelP","Verein_KZ","Verein_KtoNr","Verein_BLZ","Verein_Bankname","Verein_KontoInhaber","Verein_KI_Anschrift","Verein_IBAN","Verein_BIC","$RefreshReg$"],"sources":["/Volumes/Merlin_Daten/Chris_Daten/Projects/Kanu/KC/kanucontrolClient/src/components/Vereine/Vereine.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\n\nimport {\n  getAllVereine as dbGetAllVereine,\n  deleteVerein as dbDeleteVerein,\n  createVerein as dbCreateVerein,\n  replaceVerein as dbReplaceVerein,\n} from \"../../services/vereine\";\n\nimport { MenueHeader } from \"../MenueHeader\";\n\nimport { VereinTable } from \"./VereinTable\";\nimport { VereinViewForm } from \"./VereinViewForm\";\nimport { VereinEditForm } from \"./VereinEditForm\";\n\nconst Vereine = () => {\n  // vereinFormModus: V = ViewMode, E = EditMode\n  const [vereinFormEditMode, setVereinFormEditMode] = useState(false);\n\n  const [verein, setVerein] = useState([]);\n  const [vereine, setVereine] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [vereinId, setVereinId] = useState(0);\n\n  const [btnLöschenIsDisabled, setBtnLöschenIsDisabled] = useState(true);\n  const [btnNeuerVereinIsDisabled, setBtnNeuerVereinIsDisabled] =\n    useState(false);\n  const [btnÄndernIsDisabled, setBtnÄndernIsDisabled] = useState(true);\n  const [modusNeuerVerein, setModusNeuerVerein] = useState(true);\n\n  const onRowSelect = useCallback((event) => {\n    setVereinFormEditMode(false);\n    setBtnLöschenIsDisabled(false);\n    setBtnÄndernIsDisabled(false);\n    setVereinId(event.data.id);\n    setVerein(vereine.filter((vereine) => vereine.id === event.data.id));\n   \n  });\n\n  const editVerein = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setVereinFormEditMode(true);\n    setBtnÄndernIsDisabled(true);\n    setModusNeuerVerein(false);\n  });\n\n  const deleteVerein = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n    dbDeleteVerein(vereinId);\n    setLoading(!loading);\n  });\n\n  const btnAbbruch = useCallback(() => {\n    setBtnLöschenIsDisabled(true);\n    setVereinFormEditMode(false);\n    initVerein(setVerein);\n  });\n\n  const btnNeuerVerein = useCallback(() => {\n    // Felder leeren und auf Input umschalten\n    setModusNeuerVerein(true);\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n    setBtnNeuerVereinIsDisabled(false);\n    setVereinFormEditMode(true);\n\n    initVerein(setVerein);\n  });\n\n  const btnSpeichern = useCallback((verein) => {\n    setBtnLöschenIsDisabled(true);\n    setBtnÄndernIsDisabled(true);\n\n    if (modusNeuerVerein) {\n      dbCreateVerein(verein);\n    } else {\n      verein.id = vereinId;\n      dbReplaceVerein(verein);\n    }\n    setVereinFormEditMode(false);\n    setLoading(!loading);\n  });\n\n  const btnStartMenue = useCallback(() => {\n    // prüfen, ob die Daten plausibel sind (also nicht leer, Änderung gegenüber den vorherigen, ...)\n    window.location.href = \"/startmenue\";\n  });\n\n  useEffect(() => {\n    dbGetAllVereine().then((vereine) => {\n      setVereine(vereine);\n    });\n    initVerein(setVerein);\n  }, [loading]);\n\n  useEffect(() => {}, [verein]);\n\n  const vereinAnz = vereine.length; // Anzahl der Vereine\n\n  return (\n    <>\n      <MenueHeader headerText={vereinAnz + \" Vereine\"} />\n      <VereinTable\n        selectedVerein={vereinId}\n        vereine={vereine}\n        onRowSelect={onRowSelect}\n      />\n      <br />\n      <div>\n        {vereinFormEditMode ? (\n          <VereinEditForm\n            modusNeuerVerein={modusNeuerVerein}\n            onSpeichern={btnSpeichern}\n            onAbbruch={btnAbbruch}\n            verein={verein}\n          />\n        ) : (\n          <VereinViewForm\n            onNeuerVerein={btnNeuerVerein}\n            btnNeuerVerein={btnNeuerVereinIsDisabled}\n            onÄndernVerein={editVerein}\n            btnÄndernVerein={btnÄndernIsDisabled}\n            onDeleteVerein={deleteVerein}\n            btnLöschenVerein={btnLöschenIsDisabled}\n            onStartMenue={btnStartMenue}\n            verein={verein}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Vereine;\n\nfunction initVerein(setVerein) {\n  setVerein([\n    {\n      Verein_Name: \" \",\n      Verein_Kurz: \" \",\n      Verein_Strasse: \" \",\n      Verein_PLZ: \" \",\n      Verein_Ort: \" \",\n      Verein_TelP: \" \",\n      Verein_KZ: \" \",\n      Verein_KtoNr: \" \",\n      Verein_BLZ: \" \",\n      Verein_Bankname: \" \",\n      Verein_KontoInhaber: \" \",\n      Verein_KI_Anschrift: \" \",\n      Verein_IBAN: \" \",\n      Verein_BIC: \" \",\n    },\n  ]);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}